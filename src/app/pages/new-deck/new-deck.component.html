<app-navbar></app-navbar>
<main class=" flex flex-row justify-between align-top gap-5" style="height: calc(100vh - 88px);">
  <div class="flex flex-col gap-6 w-3/4 mt-3 pl-4">
    <app-filter [subtypes]="subtypes" [supertypes]="supertypes" [types]="types"
    (searchTermChange)="onSearchTermChange($event)"
    (filterChange)="onFilterChange($event)"></app-filter>

    <div class="flex flex-wrap flex-row justify-evenly align-top gap-2 custom-scrollbar overflow-y-auto">
      <img class="w-40 h-auto relative hover:cursor-pointer" *ngFor="let card of filteredCards" [src]="card.imageSmall" [alt]="card.name" (click)="addCardToDeck(card)">
    </div>
  </div>
  <igx-snackbar #snackbarLoadingCards [autoHide]="false">
    <div class="flex items-center justify-start w-full p-4 space-x-4">
      <p class="whitespace-nowrap">Carregando</p>
      <svg id="dots" height="20px">
        <g id="dots" fill="#999999">
          <circle id="dot1" cx="5" cy="18" r="2"></circle>
          <circle id="dot2" cx="15" cy="18" r="2"></circle>
          <circle id="dot3" cx="25" cy="18" r="2"></circle>
        </g>
      </svg>
    </div>
  </igx-snackbar>


  <igx-snackbar clas #snackbar [autoHide]="false" actionText="CLOSE" (clicked)="close(snackbar)"></igx-snackbar>

  <app-sidebar class="w-1/4" style="height: calc(100vh - 88px);"
  [selectedPokemonCards] = selectedPokemonCards
  [selectedTrainerCards] = selectedTrainerCards
  [selectedEnergyCards] = selectedEnergyCards
  [selectedTypes] = selectedTypes
  [totalCards] = totalCards
  [numOfEnergyCards] = numOfEnergyCards
  [numOfPokemonCards] = numOfPokemonCards
  [numOfTrainerCards] = numOfTrainerCards
  [deckName]="deckName"
  [editMode]= editMode
  [viewMode]= viewMode
  (deckNameChange)="handleDeckNameChange($event)"
  (saveEvent)="saveDeck()"
  (cancelEvent)="cancel()"
  (editEvent)="updateDeck()"
  (deleteEvent)="deleteDeck($event)"
  (removeFromDeckEvent)="removeFromDeck($event)"
  ></app-sidebar>
</main>

<igx-dialog #dialogCancelConfirmation
            title="Cancelar construção"
            message="Você tem certeza que deseja cancelar a construção do baralho?"
            leftButtonLabel="Não"
            rightButtonLabel="Sim"
            (leftButtonSelect)="closeCancelConfirmationDialog()"
            (rightButtonSelect)="goToHome()">
</igx-dialog>

<igx-dialog #dialogDeleteConfirmation
            title="Confirmar exclusão"
            message="Você tem certeza que deseja excluir este baralho?"
            leftButtonLabel="Não"
            rightButtonLabel="Sim"
            (leftButtonSelect)="cancelDelete()"
            (rightButtonSelect)="confirmDelete()">
</igx-dialog>





